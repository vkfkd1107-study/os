# 시스템 콜 (System Call)

## 📌 시스템 콜이란?

**시스템 콜(System Call)** 은 사용자 프로그램(애플리케이션)이 **운영체제 커널(Kernel)** 에게 서비스를 요청할 때 사용하는 **인터페이스** 다.

쉽게 말해, 사용자 프로그램이 운영체제에게 **"이 작업 좀 해줘"** 라고 요청하는 통로다.

---

## 🔧 왜 시스템 콜이 필요할까?

운영체제는 **하드웨어나 민감한 자원에 직접 접근할 수 있는 권한** 을 가지고 있다.  
반면, 일반 프로그램은 **보안과 안정성** 을 위해 직접 접근이 금지되어 있다.

그래서 일반 프로그램이 다음과 같은 작업을 하려면:

- 파일 읽기/쓰기
- 네트워크 통신
- 메모리 요청
- 프로세스 생성/종료

반드시 **운영체제를 통해야 하며** , 이때 사용하는 것이 **시스템 콜** 이다.

---

## 📝 시스템 콜 예시

### 파일 복사 명령어 실행 과정
```bash
cp in.txt out.txt
```

#### 1. 입력 파일 처리
- **파일 열기 시도**
  - 파일이 존재하지 않거나 접근 권한이 없는 경우
    - 에러 메시지 출력 (시스템 콜)
    - 프로그램 비정상 종료 (시스템 콜)

#### 2. 출력 파일 처리
- **파일 생성 시도**
  - 동일한 이름의 파일이 존재하는 경우
    - 프로그램 일시 중단 (시스템 콜)
    - 기존 파일 삭제 (시스템 콜)
    - 새 파일 생성 (시스템 콜)
    - 사용자에게 덮어쓰기 여부 확인 (시스템 콜)

#### 3. 파일 복사 작업
- **데이터 처리**
  - 입력 파일 읽기 (시스템 콜)
  - 출력 파일 쓰기 (시스템 콜)

#### 4. 작업 완료
- **종료 처리**
  - 작업 완료 메시지 출력 (시스템 콜)
  - 프로그램 정상 종료 (시스템 콜)


---

## 📝 시스템 콜 유형

- 프로세스 제어
    - 프로세스 생성, 종료, 일시 정지 등
    - fork(), exec(), wait()
- 파일 조작
    - 파일 생성, 삭제, 읽기, 쓰기 등
    - open(), close(), read(), write()
- 장치조작
    - 디스크, 프린터, 네트워크 등 장치 제어
    - read(), write(), ioctl()
- 정보 유지보수
    - 시간, 날짜, 사용자 정보 등 시스템 정보 유지
    - getpid(), alarm(), sleep()
- 통신
    - 네트워크, 프린터 등 통신 제어
    - pipe(), shm_open(), mmap()
- 보호
    - 파일 접근 권한, 메모리 보호 등 보안 제어
    - chmod(), chown(), umask()

---
### ✅ 요약
시스템 콜은 프로그램이 커널에게 작업을 요청하는 방법이다.

프로그램은 보안을 위해 직접 하드웨어에 접근하지 않고, 운영체제를 통해서만 접근한다.

read(), write(), fork(), exec() 등이 대표적인 시스템 콜이다.
