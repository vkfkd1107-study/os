# 대용량 저장 장치 구조

## 1. 중요한 이유
- **메인메모리(RAM)**은 휘발성 메모리이기 때문에 전원이 꺼지면 모든 데이터가 사라진다
- 데이터를 영구적으로 저장하기 위해 **대용량 저장 장치**가 필요하다
- 대표적 대용량 저장 장치 = **보조 저장 장치**: **HDD**, **SSD**

---

## 2. 종류와 특징
### 2.1 하드 디스크 드라이브(HDD)
- 레코드처럼 생긴 **플래터**라는 원형 판이 여러 장 겹처있고, 그 위에 **읽기/쓰기 헤드**가 움직이며 데이터를 읽고 쓴다
    - 플래터: 동심원 모양의 **트랙**으로 나뉘고, 트랙의 작은 조각인 **섹터**로 나뉜다
    - 탐색 시간: 헤드가 트랙으로 이동하는데 걸리는 시간
    - 회전 지연: 섹터가 헤드 아래로 오는데 걸리는 시간
- 장점: 저렴, 저장 용량이 매우 큼
- 단점: 물리적 움직임 때문에 속도가 느림. 충격에 약하며 소음 발생할 수 있음. 헤드 크래시 현상 발생 시, 데이터 손실 가능성 있음

### 2.2 비휘발성 메모리 장치 (NVM) / 솔리드 스테이트 드라이브 (SSD)
- 움직이는 부품 없음. **플래시 메모리**로 데이터 저장
- 장점: 움직이는 부품이 없으므로 매우 빠르고, 충격에 강하며 조용함
- 단점: 데이터를 지우고 다시 쓰는 작업(**프로그램 삭제 주기**)을 반복하면 수명이 줄어듬
    - **쓰기 증폭 현상**: 데이터를 한 번 쓰려할 때, SSD내부적으로 더 많은 쓰기 작업이 발생하여 성능에 영향 줄 수 있음
    - SSD 수명: 하루에 드라이브 용량을 몇번이나 쓸 수 있는지(DWPD)로 측정되기도 함

### 2.3 기타 저장 장치
- 자기 테이프: 데이터를 순차적으로 기록하는 장치. 매우 느림. 대량의 데이터를 장기간 보관하는데 사용

---

## 3. 운영체제의 저장장치 관리
### 3.1 논리 블록 주소 매핑
- 모든 저장장치를 하나의 거대한 일렬로 나열된 블록처럼 보여줌 = **논리 블록**
- 쉽게 관리 가능. 하드웨어 물리적 변화에도 유연하게 대처 가능

### 3.2 디스크 스케줄링(HDD만 해당)
- HDD는 헤드가 움직이므로, 요청이 동시에 들어왔을때, 어떤 순서로 처리할지 결정하는게 중요 => 디스크 스케줄링
- 디스크 스케줄링 알고리즘
    - FCFS(First Come First Served)
        - 요청이 들어온 순서대로 처리
        - 헤드 움직임이 비효율적일 수 있어 전체 속도가 느림
    - SCAN(Elevator Algorithm)
        - 헤드가 한쪽 끝에서 다른 쪽 끝으로 이동하며 요청을 처리
        - 헤드가 끝에 도달했을 때 방향을 바꿈
    - C-SCAN(Circular Elevator Algorithm)
        - 한쪽 끝에 도달하면 요청을 처리하지 않고 반대편 끝으로 이동. 한방향으로만 요청 처리
        - 균일한 대기시간 갖음
- SDD는 부품이 없으므로 디스크 스케줄링이 필요하지 않음. 다른 방식의 스케줄링 사용

### 3.3 오류 감지 및 수정(Error Detection and Correction)
- 저장된 데이터에 오류가 발생할 수 있기때문에, 운영체제는 오류를 감지하고 수정하는 기능 제공
- 데이터 무결성 유지, 데이터 손실 방지, 장치 고장 사전 감지

---

## 4. RAID(Redundant Array of Independent Disks)
- 여러 디스크를 하나로 묶어 성능을 향상시키거나 데이터의 안정성을 높이는 기술
### 4.1 RAID 0
    - 여러 디스크에 데이터 분산 저장 => 읽기/쓰기 속도 향상
    - 데이터 손실 위험 존재
    - 고성능, 데이터 손실 치명적이지 않은 경우 사용
### 4.2 RAID 1
    - 동일한 데이터를 두 개 이상의 디스크에 저장 => 데이터 안정성 극대화
    - 하나가 고장나도 바로 복구 가능
    - 저장용량이 절반으로 줄어듬
## 4.3 RAID 5, 6
    - 데이터와 패리티(오류 수정 정보) 분산 저장
    - RAID 5: 디스크 하나가 고장나도 패리티 정보로 데이터 복구
    - RAID 6: 두 개 디스크가 고장나도 패리티 정보로 데이터 복구
    - RAID 5/6: RAID1보다 저장공간 효율성이 좋으면서 데이터 보호기능 제공

---

## 5. 저장 장치 연결 방식
- 호스트-연결저장장치(Host-Attached Storage)
    - 컴퓨터 내부에 연결 / USB케이블로 직접 연결
    - 외장 하드, SSD
- 네트워크 연결 저장 장치(Network-Attached Storage: NAS)
    - 네트워크를 통해 저장장치에 접근하는 방식
    - 여러 컴퓨터가 네트워크로 하나의 저장공간 공유 가능
    - 가정, 소규모 사무실에서 파일 서버로 사용
- 스토리지 영역 네트워크(Storage Area Network: SAN)
    - 서버와 저장장치들이 전용 네트워크로 연결된 방식
    - 일반 네트워크와 다른 프로토콜 사용
    - 기업 데이트 센터
- 클라우드 스토리지(Cloud Storage)
    - 인터넷 원격 서버에 데이터 저장
    - 드롭박스, 구글 드라이브

